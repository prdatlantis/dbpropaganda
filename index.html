<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tesseramenti Partito Riformista Democratico</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Login Section -->
        <div id="loginSection" class="login-section">
            <div class="header">
                <h1>üáÆüáπ TESSERAMENTI</h1>
                <h2>PARTITO RIFORMISTA DEMOCRATICO</h2>
                <div class="neon-line"></div>
            </div>
            
            <div class="login-box">
                <div class="input-group">
                    <input type="text" id="username" placeholder="Username" autocomplete="off">
                    <label>Username</label>
                </div>
                <div class="input-group">
                    <input type="password" id="password" placeholder="Password">
                    <label>Password</label>
                </div>
                <button onclick="login()" class="neon-button">ACCEDI</button>
            </div>
        </div>

        <!-- Dashboard Section (Nascosta all'inizio) -->
        <div id="dashboardSection" style="display: none;">
            <!-- Navbar -->
            <div class="navbar">
                <div class="nav-brand">
                    <h3>PRD Tesseramenti</h3>
                </div>
                <div class="nav-menu">
                    <button class="nav-item active" onclick="showSection('registro')">üìã Registro</button>
                    <button class="nav-item" onclick="showSection('stipendi')">üí∞ Stipendi</button>
                    <button class="nav-item" onclick="showSection('ruoli')">üë• Ruoli</button>
                    <button class="nav-item" onclick="showSection('propagandisti')">üéØ Propagandisti</button>
                    <button class="nav-item" onclick="showSection('credenziali')">üîê Credenziali</button>
                    <button class="nav-item logout" onclick="logout()">üö™ Esci</button>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-icon">üìä</div>
                    <div class="stat-info">
                        <h3 id="totalTesseramenti">0</h3>
                        <p>Totale Tesseramenti</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-info">
                        <h3 id="validiCount">0</h3>
                        <p>Validati</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚ùå</div>
                    <div class="stat-info">
                        <h3 id="invalidiCount">0</h3>
                        <p>Invalidi</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üèÜ</div>
                    <div class="stat-info">
                        <h3 id="topPropagandista">-</h3>
                        <p>Top Propagandista</p>
                    </div>
                </div>
            </div>

            <!-- Registro Tesseramenti -->
            <div id="registroSection" class="dashboard-section">
                <div class="section-header">
                    <h2>üìã Registro Tesseramenti</h2>
                    <div class="header-actions">
                        <button onclick="loadTesseramenti()" class="neon-button small">üîÑ Aggiorna</button>
                    </div>
                </div>
                <div class="table-container">
                    <table id="tesseramentiTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Data</th>
                                <th>Propagandista</th>
                                <th>Tesserato</th>
                                <th>Lavoro</th>
                                <th>Telegram</th>
                                <th>Stato</th>
                                <th>Azioni</th>
                            </tr>
                        </thead>
                        <tbody id="tesseramentiBody">
                            <!-- Popolato via JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Stipendi -->
            <div id="stipendiSection" class="dashboard-section" style="display: none;">
                <div class="section-header">
                    <h2>üí∞ Calcolo Stipendi</h2>
                    <button onclick="calcolaStipendi()" class="neon-button">üßÆ GENERA STIPENDI</button>
                </div>
                <div id="stipendiContainer">
                    <!-- Popolato via JS -->
                </div>
            </div>

            <!-- Ruoli -->
            <div id="ruoliSection" class="dashboard-section" style="display: none;">
                <div class="section-header">
                    <h2>üë• Gestione Ruoli</h2>
                    <button onclick="showAggiungiRuolo()" class="neon-button">‚ûï NUOVO RUOLO</button>
                </div>
                <div class="table-container">
                    <table id="ruoliTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome Ruolo</th>
                                <th>Paga per Tesseramento (‚Ç¨)</th>
                                <th>Azioni</th>
                            </tr>
                        </thead>
                        <tbody id="ruoliBody">
                            <!-- Popolato via JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Propagandisti -->
            <div id="propagandistiSection" class="dashboard-section" style="display: none;">
                <div class="section-header">
                    <h2>üéØ Gestione Propagandisti</h2>
                    <button onclick="showAggiungiPropagandista()" class="neon-button">‚ûï AGGIUNGI PROPAGANDISTA</button>
                </div>
                <div class="table-container">
                    <table id="propagandistiTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nickname</th>
                                <th>@Telegram</th>
                                <th>Ruolo</th>
                                <th>Paga (‚Ç¨)</th>
                                <th>Azioni</th>
                            </tr>
                        </thead>
                        <tbody id="propagandistiBody">
                            <!-- Popolato via JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Credenziali -->
            <div id="credenzialiSection" class="dashboard-section" style="display: none;">
                <div class="section-header">
                    <h2>üîê Gestione Credenziali</h2>
                    <button onclick="showAggiungiUtente()" class="neon-button">‚ûï NUOVO UTENTE</button>
                </div>
                <div class="table-container">
                    <table id="utentiTable">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Username</th>
                                <th>Data Creazione</th>
                                <th>Azioni</th>
                            </tr>
                        </thead>
                        <tbody id="utentiBody">
                            <!-- Popolato via JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal per aggiungere/modificare -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Titolo</h3>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Popolato via JS -->
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
